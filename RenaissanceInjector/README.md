# Renaissance Injector

DLL библиотека для встраивания внутри клиента Mail.Ru Agent. Чисто технически, должен поддерживаться всеми версиями Агента.

## Как оно работает?

С помощью сторонней библиотеки Minhook оно подменяет работу функции `gethostbyname` из Winsock2, которым пользуется Mail.Ru Agent. Программа обращается к ней только 2-3 раза за сессию, но этого хватает, чтобы подменить встроенный ныне умершего сервера MRIM протокола на свои.

## Требования для компиляции

* Visual Studio 2022 любой редакции
* Windows 10 SDK (можно установить в Visual Studio Installer)
* C++ Windows XP Support for VS 2017 (v141) tools (можно установить в Visual Studio Installer)

## Встраивание в свою копию MRA

### Автоматически

TBD

### Ручной способ

1. Скачать **CFF Explorer**
2. Открыть `magent.exe`
3. Открыть раздел "Import Adder"
4. Нажать на кнопку "Add" и выбрать скомпилированный или готовый DLL файл
5. Нажать на "Import By Ordinal", и потом на "Rebuild Import Table"
6. Сохранить файл